<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>NIVRA - Очаквайте Скоро</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
            --glow-color: #f7b733;
            --secondary-glow: #fc4a1a;
        }
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            background-color: #1a1a2e;
        }
        body {
            font-family: 'Poppins', sans-serif;
            color: #e0e0e0;
        }
        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        .gradient-text {
            background: linear-gradient(90deg, var(--glow-color), var(--secondary-glow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .btn-primary {
            background: linear-gradient(90deg, var(--glow-color), var(--secondary-glow));
            transition: all 0.2s ease-out;
            color: #111;
        }
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(247, 183, 51, 0.2);
        }
        .btn-primary:active:not(:disabled) {
             transform: scale(0.98);
        }

        /* Loading Screen Styles */
        #loading-screen {
            position: fixed; inset: 0; background-color: #100a1c; z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 2rem;
            transition: opacity 0.5s ease-out;
        }
        .loading-title {
            font-family: 'Orbitron', sans-serif; font-size: clamp(3rem, 10vmin, 6rem);
            background: linear-gradient(90deg, #fc4a1a, #f7b733);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .progress-bar-container { width: 80%; max-width: 500px; height: 20px; background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; overflow: hidden; border: 2px solid var(--glow-color); }
        .progress-bar { width: 0%; height: 100%; background: linear-gradient(90deg, #fc4a1a, #f7b733); transition: width 0.3s ease-out; }
        #loading-percentage { font-family: 'Orbitron', sans-serif; font-size: 1.5rem; margin-top: 1rem; }
    </style>
</head>
<body class="antialiased text-gray-200">

    <!-- Loading Screen -->
    <div id="loading-screen">
        <h1 class="loading-title">NIVRA</h1>
        <div class="progress-bar-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>
        <p id="loading-percentage">0%</p>
    </div>

    <!-- Login Required Message -->
    <section id="login-required-container" class="w-full h-full hidden flex-col items-center justify-center text-center p-4">
        <div class="bg-gray-900 rounded-2xl shadow-2xl p-6 md:p-8 flex flex-col items-center gap-4 max-w-md w-full">
            <i class="fas fa-lock text-5xl md:text-6xl text-yellow-400"></i>
            <h2 class="text-2xl md:text-3xl font-bold gradient-text">Достъпът е ограничен</h2>
            <p class="text-gray-300 text-base">Трябва да сте влезли, за да видите тази страница.</p>
            <a href="index.html" class="mt-2 px-6 py-3 rounded-lg font-bold text-lg btn-primary inline-block">Към лобито / Вход</a>
        </div>
    </section>
    
    <!-- START OF MODIFIED SECTION: "Coming Soon" Message Container -->
    <section id="coming-soon-container" class="w-full h-full hidden flex-col items-center justify-center text-center p-4">
        <!-- The container is now responsive -->
        <div class="bg-gray-900 rounded-2xl shadow-2xl p-6 md:p-8 flex flex-col items-center gap-4 md:gap-6 max-w-md md:max-w-xl lg:max-w-2xl w-full">
            <i class="fas fa-cogs text-6xl md:text-7xl text-yellow-400 animate-spin" style="--fa-animation-duration: 5s;"></i>
            
            <h2 class="text-3xl md:text-4xl font-bold gradient-text mt-4">В Процес на Разработка!</h2>
            
            <!-- Longer and more detailed message -->
            <p class="text-gray-300 text-base md:text-lg leading-relaxed">
                Играта, която очаквате, е в процес на активна разработка.
                <br><br>
                Екипът на <strong>NIVRA</strong>, в тясно сътрудничество с нашите партньори от <span class="font-bold text-yellow-400">България.online</span>, работи неуморно, за да създаде едно наистина вълнуващо и иновативно Crash изживяване. Влагаме последните технологии и креативни идеи, за да гарантираме, че крайният продукт ще надмине вашите очаквания.
                <br><br>
                Вашата подкрепа е нашата най-голяма мотивация. Благодарим ви за търпението и разбирането!
                <br><br>
                Останете на линия за бъдещи новини и се пригответе за излитане!
            </p>
            
            <!-- Back to lobby button -->
            <a href="index.html" class="mt-4 md:mt-6 px-8 py-3 rounded-lg font-bold text-lg btn-primary inline-block">
                Обратно към лобито
            </a>
        </div>
    </section>
    <!-- END OF MODIFIED SECTION -->


    <!-- Firebase and Logic Script -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        
        const firebaseConfig = {
          apiKey: "AIzaSyAatMUa6vFu2AAe3NCWse6j2moiXmXdl0U",
          authDomain: "nivra-casino.firebaseapp.com",
          projectId: "nivra-casino",
          storageBucket: "nivra-casino.firebasestorage.app",
          messagingSenderId: "463242246264",
          appId: "1:463242246264:web:4a6e736e5c8df3109e158d",
          measurementId: "G-2NF3P6H9GM"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // --- DOM Elements ---
        const loadingScreen = document.getElementById('loading-screen');
        const loginRequiredContainer = document.getElementById('login-required-container');
        const comingSoonContainer = document.getElementById('coming-soon-container');

        // --- Auth State Logic ---
        onAuthStateChanged(auth, (user) => {
            if (user && user.emailVerified) {
                // User is logged in, show the "Coming Soon" message after loading
                showComingSoon();
            } else {
                // User is not logged in, show the login required message
                showLoginRequired();
            }
        });
        
        // --- UI Display Functions ---
        function runFakeLoading(onComplete) {
            const progressBar = document.getElementById('progress-bar');
            const loadingPercentage = document.getElementById('loading-percentage');
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                progressBar.style.width = `${progress}%`;
                loadingPercentage.textContent = `${Math.floor(progress)}%`;
                if (progress === 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingScreen.style.opacity = '0';
                        setTimeout(() => {
                           loadingScreen.style.display = 'none';
                           onComplete();
                        }, 500);
                    }, 500);
                }
            }, 200);
        }
        
        function showLoginRequired() {
            runFakeLoading(() => {
                loginRequiredContainer.classList.remove('hidden');
                loginRequiredContainer.classList.add('flex');
            });
        }

        function showComingSoon() {
             runFakeLoading(() => {
                comingSoonContainer.classList.remove('hidden');
                comingSoonContainer.classList.add('flex');
            });
        }
    </script>
</body>
</html>
